{"remainingRequest":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\babel-loader\\lib\\index.js!D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Backtest.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Backtest.vue","mtime":1682200988366},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681689632845},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1681689632610},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1681689632845},{"path":"D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1681689645258}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0JhY2t0ZXN0JywKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgYXNzZXQ6IFtdLAogICAgICByZXRyZWF0OiAiIiwKICAgICAgaW52ZXN0dmFsdWU6IFtdLAogICAgICBUUjogW10sCiAgICAgIEFUUl9wYXJhbTogewogICAgICAgIGs6IDEwLAogICAgICAgIE46IDIwCiAgICAgIH0sCiAgICAgIERUX3BhcmFtOiB7CiAgICAgICAgazogNQogICAgICB9LAogICAgICBBVFJfYm91bmRzOiBbXSwKICAgICAgVW5pdDogW10sCiAgICAgIHdpZHRoOiA3ODAsCiAgICAgIGhlaWdodDogMzMwLAogICAgICBtYXJnaW46IHsKICAgICAgICB0b3A6IDQwLAogICAgICAgIHJpZ2h0OiAyMCwKICAgICAgICBib3R0b206IDEwLAogICAgICAgIGxlZnQ6IDU1CiAgICAgIH0sCiAgICAgIHI6IDEwLAogICAgICBjOiAyMCwKICAgICAgYXNzZXRfY29kZTogIiIsCiAgICAgIHN0YXJ0X3RpbWU6ICIiLAogICAgICBlbmRfdGltZTogIiIsCiAgICAgIGZyZXF1ZW5jeTogIiIsCiAgICAgIHN0cmF0ZWd5OiAiIiwKICAgICAgZmxhZzogMAogICAgfTsKICB9LAogIG1vdW50ZWQoKSB7fSwKICBjb21wdXRlZDogewogICAgaW5uZXJXaWR0aCgpIHsKICAgICAgcmV0dXJuIHRoaXMud2lkdGggLSB0aGlzLm1hcmdpbi5sZWZ0IC0gdGhpcy5tYXJnaW4ucmlnaHQ7CiAgICB9LAogICAgaW5uZXJIZWlnaHQoKSB7CiAgICAgIHJldHVybiB0aGlzLmhlaWdodCAtIHRoaXMubWFyZ2luLnRvcCAtIHRoaXMubWFyZ2luLmJvdHRvbTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIHRyaWFsKCkgewogICAgICB0aGlzLmZsYWcgKz0gMTsKICAgICAgY29uc29sZS5sb2codGhpcy5mbGFnKTsKICAgIH0sCiAgICBnZXRTdHJhdGVneShzKSB7CiAgICAgIHRoaXMuc3RyYXRlZ3kgPSBzOwogICAgfSwKICAgIGJhY2t0ZXN0KCkgewogICAgICBjb25zdCBwYXRoID0gImh0dHA6Ly8xMjcuMC4wLjE6NTAwMC8iICsgdGhpcy5hc3NldF9jb2RlICsgIi9zdD0iICsgdGhpcy5zdGFydF90aW1lICsgImVkPSIgKyB0aGlzLmVuZF90aW1lICsgImZyZXE9IiArIHRoaXMuZnJlcXVlbmN5ICsgIi9zdHJhdGVneT0iICsgdGhpcy5zdHJhdGVneTsKICAgICAgYXhpb3MuZ2V0KHBhdGgpLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLmFzc2V0ID0gcmVzLmRhdGE7CiAgICAgICAgY29uc29sZS5sb2codGhpcy5hc3NldCk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXNzZXQpOwogICAgfSwKICAgIGdldEFzc2V0KCkgewogICAgICBjb25zdCBwYXRoID0gJ2h0dHA6Ly8xMjcuMC4wLjE6NTAwMC9TYW1wbGUvQSc7CiAgICAgIGF4aW9zLmdldChwYXRoKS50aGVuKHJlcyA9PiB7CiAgICAgICAgdGhpcy5hc3NldCA9IHJlcy5kYXRhOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuYXNzZXQpOwogICAgICAgIHRoaXMuZmxhZyArPSAxOwogICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZmxhZyk7CiAgICAgIH0pLmNhdGNoKGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yKTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0QVRSKCkgewogICAgICBsZXQgaSA9IDA7CiAgICAgIHdoaWxlIChpIDwgdGhpcy5hc3NldC5sZW5ndGgpIHsKICAgICAgICB0aGlzLlRSLnB1c2goTWF0aC5tYXgodGhpcy5hc3NldFtpXVsnaGlnaCddIC0gdGhpcy5hc3NldFtpXVsnbG93J10sIE1hdGguYWJzKHRoaXMuYXNzZXRbaV1bJ2hpZ2gnXSAtIHRoaXMuYXNzZXRbaV1bJ1BEQyddKSwgTWF0aC5hYnModGhpcy5hc3NldFtpXVsnUERDJ10gLSB0aGlzLmFzc2V0W2ldWydsb3cnXSkpKTsKICAgICAgICBpID0gaSArIDE7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5UUik7CiAgICAgIGkgPSAwOwogICAgICB3aGlsZSAoaSA8IHRoaXMuYXNzZXQubGVuZ3RoKSB7CiAgICAgICAgaWYgKGkgPj0gdGhpcy5BVFJfcGFyYW0uaykgewogICAgICAgICAgaWYgKGkgPj0gdGhpcy5BVFJfcGFyYW0uTiAtIDEpIHsKICAgICAgICAgICAgbGV0IHMgPSB7fTsKICAgICAgICAgICAgc1snVXAnXSA9IGQzLm1heCh0aGlzLmFzc2V0LnNsaWNlKGkgLSB0aGlzLkFUUl9wYXJhbS5rLCBpKSwgZnVuY3Rpb24gKGQpIHsKICAgICAgICAgICAgICByZXR1cm4gZFsnaGlnaCddOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc1snRG93biddID0gZDMubWluKHRoaXMuYXNzZXQuc2xpY2UoaSAtIHRoaXMuQVRSX3BhcmFtLmssIGkpLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgIHJldHVybiBkWydsb3cnXTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHNbJ0FUUiddID0gZDMubWVhbih0aGlzLlRSLnNsaWNlKGkgLSB0aGlzLkFUUl9wYXJhbS5OICsgMSwgaSArIDEpKTsKICAgICAgICAgICAgdGhpcy5BVFJfYm91bmRzLnB1c2gocyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgcyA9IHt9OwogICAgICAgICAgICBzWydVcCddID0gZDMubWF4KHRoaXMuYXNzZXQuc2xpY2UoaSAtIHRoaXMuQVRSX3BhcmFtLmssIGkpLCBmdW5jdGlvbiAoZCkgewogICAgICAgICAgICAgIHJldHVybiBkWydoaWdoJ107CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzWydEb3duJ10gPSBkMy5taW4odGhpcy5hc3NldC5zbGljZShpIC0gdGhpcy5BVFJfcGFyYW0uaywgaSksIGZ1bmN0aW9uIChkKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGRbJ2xvdyddOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgc1snQVRSJ10gPSAwOwogICAgICAgICAgICB0aGlzLkFUUl9ib3VuZHMucHVzaChzKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGkgPj0gdGhpcy5BVFJfcGFyYW0uTiAtIDEpIHsKICAgICAgICAgICAgbGV0IHMgPSB7fTsKICAgICAgICAgICAgc1snVXAnXSA9IDA7CiAgICAgICAgICAgIHNbJ0Rvd24nXSA9IDA7CiAgICAgICAgICAgIHNbJ0FUUiddID0gZDMubWVhbih0aGlzLmFzc2V0LnNsaWNlKGkgLSB0aGlzLkFUUl9wYXJhbS5OICsgMSwgaSArIDEpKTsKICAgICAgICAgICAgdGhpcy5BVFJfYm91bmRzLnB1c2gocyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsZXQgcyA9IHt9OwogICAgICAgICAgICBzWydVcCddID0gMDsKICAgICAgICAgICAgc1snRG93biddID0gMDsKICAgICAgICAgICAgc1snQVRSJ10gPSAwOwogICAgICAgICAgICB0aGlzLkFUUl9ib3VuZHMucHVzaChzKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaSA9IGkgKyAxOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuQVRSX2JvdW5kcyk7CiAgICAgIGkgPSAwOwogICAgICB3aGlsZSAoaSA8IHRoaXMuQVRSX2JvdW5kcy5sZW5ndGgpIHsKICAgICAgICB0aGlzLlVuaXQucHVzaCgwKTsKICAgICAgICBpID0gaSArIDE7CiAgICAgIH0KICAgICAgaSA9IDA7CiAgICAgIGxldCBwcmV2X3ByaWNlID0gdGhpcy5hc3NldFswXVsnY3VycmVudCddOwogICAgICB3aGlsZSAoaSA8IHRoaXMuQVRSX2JvdW5kcy5sZW5ndGgpIHsKICAgICAgICBpZiAoaSA9PSAwKSB7CiAgICAgICAgICBpZiAodGhpcy5hc3NldFtpXVsnY3VycmVudCddID4gdGhpcy5BVFJfYm91bmRzW2ldWydVcCddKSB7CiAgICAgICAgICAgIHByZXZfcHJpY2UgPSB0aGlzLmFzc2V0W2ldWydjdXJyZW50J107CiAgICAgICAgICAgIHRoaXMuVW5pdFtpXSArPSAxOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgaWYgKHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXSA8IHRoaXMuQVRSX2JvdW5kc1tpXVsnRG93biddKSB7CiAgICAgICAgICAgICAgcHJldl9wcmljZSA9IHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXTsKICAgICAgICAgICAgICB0aGlzLlVuaXRbaV0gLT0gMTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBpZiAodGhpcy5Vbml0W2kgLSAxXSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFzc2V0W2ldWydjdXJyZW50J10gPiB0aGlzLkFUUl9ib3VuZHNbaV1bJ1VwJ10pIHsKICAgICAgICAgICAgICBwcmV2X3ByaWNlID0gdGhpcy5hc3NldFtpXVsnY3VycmVudCddOwogICAgICAgICAgICAgIHRoaXMuVW5pdFtpXSA9IHRoaXMuVW5pdFtpIC0gMV0gKyAxOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGlmICh0aGlzLmFzc2V0W2ldWydjdXJyZW50J10gPCB0aGlzLkFUUl9ib3VuZHNbaV1bJ0Rvd24nXSkgewogICAgICAgICAgICAgICAgcHJldl9wcmljZSA9IHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXTsKICAgICAgICAgICAgICAgIHRoaXMuVW5pdFtpXSA9IHRoaXMuVW5pdFtpIC0gMV0gLSAxOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKHRoaXMuVW5pdFtpIC0gMV0gPiAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmFzc2V0W2ldWydjdXJyZW50J10gPiBwcmV2X3ByaWNlICsgMC41ICogdGhpcy5BVFJfYm91bmRzW2ldWydBVFInXSkgewogICAgICAgICAgICAgIHRoaXMuVW5pdFtpXSA9IHRoaXMuVW5pdFtpIC0gMV0gKyAxOwogICAgICAgICAgICAgIHByZXZfcHJpY2UgPSB0aGlzLmFzc2V0W2ldWydjdXJyZW50J107CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgaWYgKHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXSA8IHByZXZfcHJpY2UgLSAyICogdGhpcy5BVFJfYm91bmRzW2ldWydBVFInXSkgewogICAgICAgICAgICAgICAgdGhpcy5Vbml0W2ldID0gMDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXSA8IHRoaXMuQVRSX2JvdW5kc1tpXVsnRG93biddKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuVW5pdFtpXSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAodGhpcy5Vbml0W2kgLSAxXSA8IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXSA8IHByZXZfcHJpY2UgLSAwLjUgKiB0aGlzLkFUUl9ib3VuZHNbaV1bJ0FUUiddKSB7CiAgICAgICAgICAgICAgdGhpcy5Vbml0W2ldID0gdGhpcy5Vbml0W2kgLSAxXSAtIDE7CiAgICAgICAgICAgICAgcHJldl9wcmljZSA9IHRoaXMuYXNzZXRbaV1bJ2N1cnJlbnQnXTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBpZiAodGhpcy5hc3NldFtpXVsnY3VycmVudCddID4gcHJldl9wcmljZSArIDIgKiB0aGlzLkFUUl9ib3VuZHNbaV1bJ0FUUiddKSB7CiAgICAgICAgICAgICAgICB0aGlzLlVuaXRbaV0gPSAwOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBpZiAodGhpcy5hc3NldFtpXVsnY3VycmVudCddID4gdGhpcy5BVFJfYm91bmRzW2ldWydVcCddKSB7CiAgICAgICAgICAgICAgICAgIHRoaXMuVW5pdFtpXSA9IDA7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGkgPSBpICsgMTsKICAgICAgfQogICAgICBjb25zb2xlLmxvZyh0aGlzLlVuaXQpOwogICAgICBpID0gMDsKICAgICAgd2hpbGUgKGkgPCB0aGlzLmFzc2V0Lmxlbmd0aCkgewogICAgICAgIGlmIChpID09IDApIHRoaXMuaW52ZXN0dmFsdWUucHVzaCh0aGlzLmFzc2V0W2ldWydjdXJyZW50J10gKiB0aGlzLlVuaXRbaV0pO2Vsc2UgdGhpcy5pbnZlc3R2YWx1ZS5wdXNoKHRoaXMuaW52ZXN0dmFsdWVbaSAtIDFdICsgdGhpcy5hc3NldFtpXVsnY3VycmVudCddICogdGhpcy5Vbml0W2ldKTsKICAgICAgICBpID0gaSArIDE7CiAgICAgIH0KICAgICAgY29uc29sZS5sb2codGhpcy5pbnZlc3R2YWx1ZSk7CiAgICB9LAogICAgZ2V0SW52ZXN0dmFsdWUoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJnZXRpbnZlc3QiKTsKICAgICAgbGV0IGkgPSAwOwogICAgICB3aGlsZSAoaSA8IHRoaXMuYXNzZXQubGVuZ3RoKSB7CiAgICAgICAgdGhpcy5pbnZlc3R2YWx1ZS5wdXNoKHRoaXMuYXNzZXRbaV1bJ3RvdGFsX2Nhc2gnXSk7CiAgICAgICAgaSA9IGkgKyAxOwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuaW52ZXN0dmFsdWUpOwogICAgfSwKICAgIC8vU2NhbGXlh73mlbDnlKjmnaXnlLvlh7rlnZDmoIfovbQKICAgIFNjYWxlKCkgewogICAgICBkMy5zZWxlY3QoJyNjbGFzc2ljc2NhbGUnKS5yZW1vdmUoKTsKICAgICAgY29uc3QgZyA9IGQzLnNlbGVjdCgnI0NsYXNzaWNzJykuYXBwZW5kKCdnJykuYXR0cignaWQnLCAnY2xhc3NpY3NjYWxlJykuYXR0cigndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgke3RoaXMubWFyZ2luLmxlZnR9LCR7dGhpcy5tYXJnaW4udG9wfSlgKTsKICAgICAgdmFyIFthLCBiXSA9IGQzLmV4dGVudCh0aGlzLmludmVzdHZhbHVlKTsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBjb25zdCB4c2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbMCwgdGhhdC5pbnZlc3R2YWx1ZS5sZW5ndGhdKS5yYW5nZShbMCwgdGhpcy5pbm5lcldpZHRoXSk7CiAgICAgIGNvbnN0IHlzY2FsZSA9IGQzLnNjYWxlTGluZWFyKCkuZG9tYWluKFtiLCBhXSkucmFuZ2UoWzAsIHRoaXMuaW5uZXJIZWlnaHRdKTsKICAgICAgY29uc29sZS5sb2coW2EsIGJdKTsKICAgICAgY29uc3QgeWF4aXMgPSBkMy5heGlzTGVmdCh5c2NhbGUpLnRpY2tzKDEwKS50aWNrU2l6ZSg1KS50aWNrUGFkZGluZyg1KTsKICAgICAgY29uc3QgeGF4aXMgPSBkMy5heGlzQm90dG9tKHhzY2FsZSkudGlja3MoMjApLnRpY2tTaXplKC01KS50aWNrUGFkZGluZygtMTUpLnRpY2tGb3JtYXQoZnVuY3Rpb24gKGQpIHsKICAgICAgICAvL3JldHVybiBpOwogICAgICAgIC8vY29uc29sZS5sb2codGhhdC5hc3NldFtkXVsndHJhZGVfdGltZSddKQogICAgICAgIHJldHVybiBkIDwgdGhhdC5hc3NldC5sZW5ndGggPyB0aGF0LmFzc2V0W2RdWydkYXRlJ10uc2xpY2UoNSwgMTApIDogdGhhdC5hc3NldFtkIC0gMV1bJ2RhdGUnXS5zbGljZSg1LCAxMCk7CiAgICAgIH0pOwogICAgICBnLmFwcGVuZCgnZycpLmNhbGwoeWF4aXMpLmF0dHIoJ2lkJywgJ3lheGlzJyk7CiAgICAgIGcuYXBwZW5kKCdnJykuY2FsbCh4YXhpcykuYXR0cignaWQnLCAneGF4aXMnKTsKICAgICAgZDMuc2VsZWN0KCcjeGF4aXMnKS5zZWxlY3RBbGwoJy50aWNrJykuc2VsZWN0QWxsKCd0ZXh0JykuYXR0cigiZm9udC1zaXplIiwgIjlweCIpOwogICAgfSwKICAgIC8vQVRSIHN0cmF0ZWd555qE5Ye95pWw5a6e546wCiAgICBEcmF3KCkgewogICAgICBkMy5zZWxlY3QoJyNjbGFzc2ljQ3VydmUnKS5yZW1vdmUoKTsKCiAgICAgIC8v6YCJ5oupaWTkuLonQ2xhc3NpY3Mn55qEc3Zn77yM5aKe5re7Z+W5tuWPlmlk5Li6Y2xhc3NpY0N1cnZl77yM56e75Yqo55S75biD5L2/5YW25LiO6K6+572u55qEbWFyZ2lu5a+55YW2CiAgICAgIGNvbnN0IGcyID0gZDMuc2VsZWN0KCcjQ2xhc3NpY3MnKS5hcHBlbmQoJ2cnKS5hdHRyKCdpZCcsICdjbGFzc2ljQ3VydmUnKS5hdHRyKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7dGhpcy5tYXJnaW4ubGVmdH0sJHt0aGlzLm1hcmdpbi50b3B9KWApOwoKICAgICAgLy/pmLLmraLku6PnoIHkuK3lsIZ0aGlz6ZSZ6K6k5Li65b2T5YmN5pWw5o2u77yM55SodGhhdOS7o+abv+WFqOWxgOeahHRoaXMKICAgICAgbGV0IHRoYXQgPSB0aGlzOwoKICAgICAgLy/orr7nva7ml5fluJzkuLpBVFLvvIzooajnpLrmjInkuIvkuoZBVFLmjInpkq4KICAgICAgdGhhdC5mbGFnID0gIkFUUiI7CgogICAgICAvL+iuvue9rnjovbTjgIF56L2055qE5pig5bCE5Ye95pWw77yM5bCG5pWw5o2u5pig5bCE5YiweOOAgXnovbTlnZDmoIfkuIoKICAgICAgdmFyIFthLCBiXSA9IGQzLmV4dGVudCh0aGlzLmludmVzdHZhbHVlKTsKICAgICAgY29uc3QgeHNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKS5kb21haW4oWzAsIHRoYXQuaW52ZXN0dmFsdWUubGVuZ3RoXSkucmFuZ2UoWzAsIHRoaXMuaW5uZXJXaWR0aF0pOwogICAgICBjb25zdCB5c2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbYiwgYV0pLnJhbmdlKFswLCB0aGlzLmlubmVySGVpZ2h0XSk7CgogICAgICAvL+iuvue9ruaKmOe6v+WbvueahOaYoOWwhOWHveaVsO+8jOS8muWwhuaVsOaNruaYoOWwhOS4uuavj+S4queCueeahOWdkOaghy/mr4/mnaHnur/mrrXnmoTot6/lvoTlgLwKICAgICAgY29uc3QgbGluZSA9IGQzLmxpbmUoKS54KGZ1bmN0aW9uIChkLCBpKSB7CiAgICAgICAgcmV0dXJuIHhzY2FsZShpKTsKICAgICAgfSkueShmdW5jdGlvbiAoZCkgewogICAgICAgIHJldHVybiB5c2NhbGUoZCk7CiAgICAgIH0pLmN1cnZlKGQzLmN1cnZlTGluZWFyKTsKCiAgICAgIC8v5ZyoZ+S4iuWinua3u+i3r+W+hHBhdGjvvIzlubblsIbnm67moIfnlLvnur/nmoTmlbDmja7kvKDlhaVsaW5l5pig5bCE5Ye95pWw5LitCiAgICAgIGcyLmFwcGVuZCgncGF0aCcpLmF0dHIoJ2QnLCBsaW5lKHRoYXQuaW52ZXN0dmFsdWUpKS5hdHRyKCdmaWxsJywgJ25vbmUnKS5hdHRyKCdzdHJva2UnLCAiIzMzNjZmZiIpOwogICAgICAvLy5hdHRyKCJ0cmFuc2Zvcm0iLCBmdW5jdGlvbihkKSB7CiAgICAgIC8vICByZXR1cm4gYHRyYW5zbGF0ZSgke3hzY2FsZShkWydpZCddKSsxLjV9LCR7eXNjYWxlKGRbJ3ByaWNlJ10pLTV9KWA7CiAgICAgIC8vfSkKICAgICAgLy8ub24oIm1vdXNlb3ZlciIsZnVuY3Rpb24oKXsKICAgICAgLy8gICBsZXQgZCA9ZDMuc2VsZWN0KHRoaXMpLmRhdGEoKTsKICAgICAgLy8gICBjb25zb2xlLmxvZyhkKTsKICAgICAgLy8gICB2YXIgc3RyID0gJ3ZhbHVlOicgKyBkWzBdOwogICAgICAvLyAgIHZhciB0ID0gNjAgKyB5c2NhbGUoZFswXSkKCiAgICAgIC8vICAgZDMuc2VsZWN0QWxsKCcudG9vbHRpcCcpCiAgICAgIC8vICAgICAuaHRtbChzdHIpCiAgICAgIC8vICAgICAuc3R5bGUoImxlZnQiLCAoeHNjYWxlKGRbMF1bJ2lkJ10pKzM1KSsicHgiKQogICAgICAvLyAgICAgLnN0eWxlKCJ0b3AiLCAodCsyNzApKyJweCIpCiAgICAgIC8vICAgICAuc3R5bGUoIm9wYWNpdHkiLDEuMCk7CiAgICAgIC8vfSkKICAgICAgLy8ub24oIm1vdXNlbGVhdmUiLGZ1bmN0aW9uKCl7CiAgICAgIC8vICAgZDMuc2VsZWN0QWxsKCcudG9vbHRpcCcpCiAgICAgIC8vICAgICAuc3R5bGUoIm9wYWNpdHkiLDAuMCk7CiAgICAgIC8vfSkKICAgIH0sCgogICAgLy9EdWFsIFRocnVzdCBzdHJhdGVneeeahOWHveaVsOWunueOsAogICAgRFQoKSB7CiAgICAgIGQzLnNlbGVjdCgnI2NsYXNzaWNDdXJ2ZScpLnJlbW92ZSgpOwogICAgICBjb25zb2xlLmxvZygiRHVhbCBUaHJ1c3QiKTsKICAgIH0sCiAgICBjb2xvcmJveChzZWwsIHNpemUsIGNvbG9ycykgewogICAgICB2YXIgW3gwLCB4MV0gPSBkMy5leHRlbnQoY29sb3JzLmRvbWFpbigpKTsKICAgICAgdmFyIGJhcnMgPSBkMy5yYW5nZSh4MCwgeDEsICh4MSAtIHgwKSAvIHNpemVbMV0pOwogICAgICB2YXIgc2MgPSBkMy5zY2FsZUxpbmVhcigpLmRvbWFpbihbeDAsIHgxXSkucmFuZ2UoWzAsIHNpemVbMV1dKTsKICAgICAgc2VsLnNlbGVjdEFsbCgibGluZSIpLmRhdGEoYmFycykuZW50ZXIoKS5hcHBlbmQoImxpbmUiKS5hdHRyKCJ4MSIsIDApLmF0dHIoIngyIiwgc2l6ZVswXSkuYXR0cigieTEiLCBzYykuYXR0cigieTIiLCBzYykuYXR0cigic3Ryb2tlIiwgY29sb3JzKTsKICAgICAgc2VsLmFwcGVuZCgicmVjdCIpLmF0dHIoIndpZHRoIiwgc2l6ZVswXSkuYXR0cigiaGVpZ2h0Iiwgc2l6ZVsxXSkuYXR0cigiZmlsbCIsICJub25lIikuYXR0cigic3Ryb2tlIiwgImJsYWNrIik7CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy90aGlzLmdldEFzc2V0KCk7CiAgfSwKICBiZWZvcmVVbm1vdW50KCkge30sCiAgd2F0Y2g6IHsKICAgIGFzc2V0KCkgewogICAgICAvLyBjb25zb2xlLmxvZygiZ2V0YXNzZXQiKTsKICAgICAgdGhpcy5nZXRJbnZlc3R2YWx1ZSgpOwogICAgICB0aGlzLnJldHJlYXQgPSBkMy5tYXgodGhpcy5hc3NldCwgZnVuY3Rpb24gKGQpIHsKICAgICAgICByZXR1cm4gZFsncmV0cmVhdCddOwogICAgICB9KS50b0ZpeGVkKDIpOwogICAgICB0aGlzLlNjYWxlKCk7CiAgICAgIHRoaXMuRHJhdygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["D:\\UPenn大三下\\Denghui Project\\Quantitative-Trading-System\\Framework\\Frontend\\src\\components\\Backtest.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div id = \"Tip\">\r\n      <div class=\"panel-header\">回测结果</div>\r\n      <div class=\"panel-header-end\"></div>\r\n      <svg id = \"Classics\"  class=\"classic\" style = 'width:810px; height:370px'>\r\n      </svg>\r\n      <div class=\"tooltip\"></div>\r\n      <div class=\"tooltip2\"></div>\r\n      <!--button id = 'ATR' @click = 'getATR(),Scale(),Draw()'>ATR</button-->\r\n      <!--button id = 'DT' @click = 'trial()'>Dual Thrust</button-->\r\n      <input class=\"asset-code\" type=\"text\" v-model.lazy = \"asset_code\" placeholder=\"Input Asset Code\">\r\n      <input class=\"time-start\" type=\"text\" v-model.lazy = \"start_time\" placeholder=\"Input Start Time\">\r\n      <input class=\"time-end\" type=\"text\" v-model.lazy = \"end_time\" placeholder=\"Input End Time\">\r\n      <input class=\"time-frequency\" type=\"text\" v-model.lazy = \"frequency\" placeholder=\"Input Frequency\">\r\n      <div class = \"time-button\" @click=\"backtest()\" type=\"submit\">Backtest</div>\r\n      <div class = \"indexes\">最大回撤：{{retreat }}</div>\r\n      <form action=\"strategy=custom\" method=post enctype=multipart/form-data>\r\n         <input class=\"custom-strategy file\" type=file name=file>\r\n         <input  class=\"custom-strategy upload\" type=submit value=Upload>\r\n      </form>\r\n    </div>\r\n    <div class=\"content-left\">\r\n      <div class=\"seg\"></div>\r\n      <div class=\"nav\">\r\n        <div class=\"nav-menu\">\r\n          <div class=\"nav-title\">经典策略</div>\r\n          <div class=\"nav-content\">\r\n            <a id=\"R-breaker\" @click='getStrategy(\"R_breaker\")'>R-breaker</a>\r\n            <a id=\"ATR\" @click='getStrategy(\"ATR\")'>ATR</a>\r\n            <a id=\"Dual Thrust\" @click='getStrategy(\"Dual_Thrust\")'>Dual Thrust</a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import axios from 'axios'\r\n  import * as d3 from 'd3'\r\n  \r\n  export default {\r\n    name:'Backtest',\r\n    data(){\r\n      return {\r\n        asset:[],\r\n        retreat:\"\",\r\n        investvalue:[],\r\n        TR:[],\r\n        ATR_param:{\r\n          k:10,\r\n          N:20\r\n        },\r\n        DT_param:{\r\n          k:5\r\n        },\r\n        ATR_bounds:[],\r\n        Unit:[],\r\n        width: 780,\r\n        height: 330,\r\n        margin:{\r\n          top:40,\r\n          right:20,\r\n          bottom:10,\r\n          left:55\r\n        },\r\n        r:10,\r\n        c:20,\r\n        asset_code:\"\",\r\n        start_time:\"\",\r\n        end_time:\"\",\r\n        frequency:\"\",\r\n        strategy:\"\",\r\n        flag:0\r\n      }\r\n    },\r\n    mounted(){\r\n\r\n    },\r\n    computed:{\r\n      innerWidth(){\r\n        return this.width - this.margin.left - this.margin.right\r\n      },\r\n      innerHeight(){\r\n        return this.height - this.margin.top - this.margin.bottom\r\n      }\r\n    },\r\n    methods:{\r\n       trial(){\r\n        this.flag+=1;\r\n        console.log(this.flag);\r\n       },\r\n       getStrategy(s){\r\n        this.strategy=s;\r\n       },\r\n       backtest(){\r\n        const path = \"http://127.0.0.1:5000/\"+this.asset_code+\"/st=\"+this.start_time+\"ed=\"+this.end_time+\"freq=\"+this.frequency+\"/strategy=\"+this.strategy;\r\n        axios\r\n           .get(path)\r\n           .then(res => {\r\n             this.asset=res.data;\r\n             console.log(this.asset);\r\n           })\r\n           .catch(error => {\r\n             console.error(error);\r\n           });\r\n           console.log(this.asset);\r\n       },\r\n       getAsset(){\r\n        const path = 'http://127.0.0.1:5000/Sample/A';\r\n        axios\r\n           .get(path)\r\n           .then(res => {\r\n             this.asset=res.data;\r\n             console.log(this.asset);\r\n             this.flag += 1;\r\n             console.log(this.flag);\r\n           })\r\n           .catch(error => {\r\n             console.error(error);\r\n           });\r\n\r\n       },\r\n       getATR(){\r\n        let i = 0;\r\n        while(i < this.asset.length){\r\n          this.TR.push(Math.max(this.asset[i]['high']-this.asset[i]['low'],Math.abs(this.asset[i]['high']-this.asset[i]['PDC']),Math.abs(this.asset[i]['PDC']-this.asset[i]['low'])));\r\n          i = i + 1;\r\n        }\r\n        console.log(this.TR)\r\n        i = 0;\r\n        while(i < this.asset.length){\r\n          if(i>=this.ATR_param.k){\r\n            if(i >= this.ATR_param.N - 1){\r\n              let s = {};\r\n              s['Up'] = d3.max(this.asset.slice(i-this.ATR_param.k,i),function(d){return d['high']});\r\n              s['Down'] = d3.min(this.asset.slice(i-this.ATR_param.k,i),function(d){return d['low']});\r\n              s['ATR'] = d3.mean(this.TR.slice(i-this.ATR_param.N+1,i+1));\r\n              this.ATR_bounds.push(s);\r\n            }\r\n            else{\r\n              let s = {};\r\n              s['Up'] = d3.max(this.asset.slice(i-this.ATR_param.k,i),function(d){return d['high']});\r\n              s['Down'] = d3.min(this.asset.slice(i-this.ATR_param.k,i),function(d){return d['low']});\r\n              s['ATR'] = 0;\r\n              this.ATR_bounds.push(s);\r\n            }\r\n          }else{\r\n            if(i >= this.ATR_param.N - 1){\r\n              let s = {};\r\n              s['Up'] = 0;\r\n              s['Down'] = 0;\r\n              s['ATR'] = d3.mean(this.asset.slice(i-this.ATR_param.N+1,i+1));\r\n              this.ATR_bounds.push(s);\r\n            }\r\n            else{\r\n              let s = {};\r\n              s['Up'] = 0;\r\n              s['Down'] = 0;\r\n              s['ATR'] = 0;\r\n              this.ATR_bounds.push(s);\r\n            }\r\n          }\r\n          i = i + 1;\r\n        }\r\n        console.log(this.ATR_bounds);\r\n        i = 0;\r\n        while(i<this.ATR_bounds.length){\r\n          this.Unit.push(0);\r\n          i = i + 1;\r\n        }\r\n        i = 0;\r\n        let prev_price = this.asset[0]['current'];\r\n        while(i<this.ATR_bounds.length){\r\n          if (i==0) {\r\n            if (this.asset[i]['current']>this.ATR_bounds[i]['Up']) {\r\n              prev_price = this.asset[i]['current'];\r\n              this.Unit[i] += 1;\r\n            }else{\r\n              if (this.asset[i]['current']<this.ATR_bounds[i]['Down']){\r\n                prev_price = this.asset[i]['current'];\r\n                this.Unit[i] -= 1;\r\n              }\r\n            }\r\n          }else{\r\n            if(this.Unit[i-1]==0){\r\n              if (this.asset[i]['current']>this.ATR_bounds[i]['Up']) {\r\n                prev_price = this.asset[i]['current'];\r\n                this.Unit[i]=this.Unit[i-1]+1;\r\n              }else{\r\n                if (this.asset[i]['current']<this.ATR_bounds[i]['Down']) {\r\n                  prev_price = this.asset[i]['current'];\r\n                  this.Unit[i] =  this.Unit[i-1]-1;\r\n                }\r\n              }\r\n            }\r\n            if (this.Unit[i-1]>0) {\r\n              if (this.asset[i]['current']>prev_price+0.5*this.ATR_bounds[i]['ATR']){\r\n                this.Unit[i] = this.Unit[i-1]+1;\r\n                prev_price = this.asset[i]['current'];\r\n              }else{\r\n                if(this.asset[i]['current']<prev_price-2*this.ATR_bounds[i]['ATR']){\r\n                  this.Unit[i] = 0;\r\n                }else{\r\n                  if(this.asset[i]['current']<this.ATR_bounds[i]['Down']){\r\n                  this.Unit[i] = 0;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (this.Unit[i-1]<0) {\r\n              if (this.asset[i]['current'] < prev_price - 0.5*this.ATR_bounds[i]['ATR']){\r\n                this.Unit[i] = this.Unit[i-1]-1;\r\n                prev_price = this.asset[i]['current'];\r\n              }else{\r\n                if(this.asset[i]['current'] > prev_price + 2*this.ATR_bounds[i]['ATR']){\r\n                  this.Unit[i] = 0;\r\n                }else{\r\n                  if(this.asset[i]['current']>this.ATR_bounds[i]['Up']){\r\n                  this.Unit[i] = 0;\r\n                }\r\n              }\r\n            }\r\n          }\r\n        }\r\n        i = i+1;\r\n      }\r\n      console.log(this.Unit);\r\n\r\n      i = 0;\r\n      while(i<this.asset.length){\r\n        if(i==0)\r\n          this.investvalue.push(this.asset[i]['current']*this.Unit[i]);\r\n        else\r\n          this.investvalue.push(this.investvalue[i-1]+this.asset[i]['current']*this.Unit[i]);\r\n        i = i + 1;\r\n      }\r\n      console.log(this.investvalue);\r\n      },\r\n\r\n      getInvestvalue(){\r\n        console.log(\"getinvest\");\r\n        let i = 0;\r\n        while(i<this.asset.length){\r\n          this.investvalue.push(this.asset[i]['total_cash']);\r\n          i = i + 1;\r\n        }\r\n        console.log(this.investvalue);\r\n      },\r\n\r\n      //Scale函数用来画出坐标轴\r\n       Scale(){\r\n        d3.select('#classicscale').remove()\r\n        const g = d3.select('#Classics').append('g').attr('id', 'classicscale')\r\n                    .attr('transform', `translate(${this.margin.left},${this.margin.top})`);\r\n        var [a,b] = d3.extent(this.investvalue);\r\n        let that = this;\r\n        const xscale = d3.scaleLinear()\r\n                         .domain([0,that.investvalue.length])\r\n                         .range([0, this.innerWidth]);\r\n        const yscale = d3.scaleLinear()\r\n                         .domain([b,a])\r\n                         .range([0, this.innerHeight]);\r\n        console.log([a,b])\r\n        const yaxis = d3.axisLeft(yscale)\r\n                        .ticks(10)\r\n                        .tickSize(5)\r\n                        .tickPadding(5);\r\n\r\n        const xaxis = d3.axisBottom(xscale)\r\n                      .ticks(20)\r\n                      .tickSize(-5)\r\n                      .tickPadding(-15)\r\n                      .tickFormat(function(d){\r\n                        //return i;\r\n                        //console.log(that.asset[d]['trade_time'])\r\n                        return d<that.asset.length?that.asset[d]['date'].slice(5,10):that.asset[d-1]['date'].slice(5,10);\r\n                      })\r\n\r\n                     g.append('g').call(yaxis)\r\n                      .attr('id' ,'yaxis');\r\n                     g.append('g').call(xaxis)\r\n                      .attr('id', 'xaxis')\r\n                      \r\n                     d3.select('#xaxis')\r\n                       .selectAll('.tick')\r\n                       .selectAll('text')\r\n                       .attr(\"font-size\",\"9px\");\r\n  \r\n    },\r\n       //ATR strategy的函数实现\r\n       Draw(){        \r\n        d3.select('#classicCurve').remove()\r\n\r\n        //选择id为'Classics'的svg，增添g并取id为classicCurve，移动画布使其与设置的margin对其\r\n        const g2 = d3.select('#Classics').append('g').attr('id', 'classicCurve')\r\n                    .attr('transform', `translate(${this.margin.left},${this.margin.top})`);\r\n        \r\n        //防止代码中将this错认为当前数据，用that代替全局的this\r\n        let that = this;\r\n\r\n        //设置旗帜为ATR，表示按下了ATR按钮\r\n        that.flag=\"ATR\";\r\n        \r\n        //设置x轴、y轴的映射函数，将数据映射到x、y轴坐标上\r\n        var [a,b] = d3.extent(this.investvalue);\r\n        const xscale = d3.scaleLinear()\r\n                         .domain([0,that.investvalue.length])\r\n                         .range([0, this.innerWidth]);\r\n        const yscale = d3.scaleLinear()\r\n                         .domain([b,a])\r\n                         .range([0, this.innerHeight]);\r\n\r\n        //设置折线图的映射函数，会将数据映射为每个点的坐标/每条线段的路径值\r\n        const line = d3.line()\r\n                       .x(function(d,i){return xscale(i)})\r\n                       .y(function(d){return yscale(d)})\r\n                       .curve(d3.curveLinear)\r\n      \r\n        //在g上增添路径path，并将目标画线的数据传入line映射函数中\r\n        g2.append('path')\r\n          .attr('d',line(that.investvalue))\r\n          .attr('fill','none')\r\n          .attr('stroke',\"#3366ff\")\r\n          //.attr(\"transform\", function(d) {\r\n          //  return `translate(${xscale(d['id'])+1.5},${yscale(d['price'])-5})`;\r\n          //})\r\n          //.on(\"mouseover\",function(){\r\n          //   let d =d3.select(this).data();\r\n          //   console.log(d);\r\n          //   var str = 'value:' + d[0];\r\n          //   var t = 60 + yscale(d[0])\r\n            \r\n          //   d3.selectAll('.tooltip')\r\n          //     .html(str)\r\n          //     .style(\"left\", (xscale(d[0]['id'])+35)+\"px\")\r\n          //     .style(\"top\", (t+270)+\"px\")\r\n          //     .style(\"opacity\",1.0);\r\n          //})\r\n          //.on(\"mouseleave\",function(){\r\n          //   d3.selectAll('.tooltip')\r\n          //     .style(\"opacity\",0.0);\r\n          //})\r\n       },\r\n\r\n       //Dual Thrust strategy的函数实现\r\n       DT(){\r\n        d3.select('#classicCurve').remove()\r\n        console.log(\"Dual Thrust\")\r\n       },\r\n       \r\n    colorbox(sel, size, colors){\r\n      var [x0,x1] = d3.extent( colors.domain());\r\n      var bars = d3.range( x0, x1, (x1-x0)/size[1]);\r\n      var sc = d3.scaleLinear()\r\n          .domain([x0,x1]).range([0, size[1]]);\r\n      sel.selectAll(\"line\").data(bars).enter().append(\"line\")\r\n        .attr(\"x1\", 0).attr(\"x2\",size[0])\r\n        .attr(\"y1\", sc).attr(\"y2\",sc)\r\n        .attr(\"stroke\",colors);\r\n      \r\n      sel.append(\"rect\")\r\n          .attr(\"width\",size[0]).attr(\"height\",size[1])\r\n          .attr(\"fill\",\"none\").attr(\"stroke\",\"black\")\r\n        }\r\n    },\r\n    created(){\r\n      //this.getAsset();\r\n    },\r\n    beforeUnmount() {\r\n    },\r\n    watch:{\r\n      asset(){\r\n        // console.log(\"getasset\");\r\n        this.getInvestvalue();\r\n        this.retreat = d3.max(this.asset,function(d){return d['retreat']}).toFixed(2);\r\n        this.Scale();\r\n        this.Draw();\r\n    }\r\n  }\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .tooltip{\r\n      position: absolute;\r\n      padding-left:5px;\r\n      padding-right:5px;\r\n      width:auto;\r\n      height:auto;\r\n      border:1px solid #2ea44f;\r\n      border-radius:5px;\r\n      background-color: white;\r\n      font-size: 8px;\r\n      text-align: center;\r\n      opacity:0;\r\n      z-index:999;\r\n          }\r\n  \r\n  .tooltip2{\r\n    position:absolute;\r\n    left:0px;\r\n    top:0px;\r\n    width:auto;\r\n    height:auto;\r\n    border:2px solid lightcoral;\r\n    border-radius:5px;\r\n    padding-left:1px;\r\n    padding-right:1px;\r\n    padding-top:1px;\r\n    padding:1px;\r\n    background-color: white;\r\n    font-size: 1px;\r\n    text-align: center;\r\n    opacity:0;\r\n    z-index:99;\r\n  }\r\n  .panel-header {\r\n    position: absolute;\r\n    top: 90px;\r\n    left:170px;\r\n    padding: 2px 2px-2px 20px;\r\n    width: 60px;\r\n    height: 22px;\r\n    line-height: 18px;\r\n    font-size: 6px;\r\n    text-align: right;\r\n    background: #415c68;\r\n    color: #fcfcfc;\r\n    display: flex;\r\n    justify-content:space-evenly;\r\n    align-items: center;\r\n    align-content:stretch;\r\n    font-weight: bold;\r\n    border-radius: 1px;\r\n    box-shadow: 0 1px 2px rgba(26 26 26 0.2);\r\n    z-index:99;\r\n  }\r\n  \r\n  .panel-header-end {\r\n    position: absolute;\r\n    top: 90px;\r\n    left:230px;\r\n    border-top: 22px solid #455a64;\r\n    border-right: 22px solid #ffffff;\r\n    border-bottom: 0px solid #ffffff;\r\n    z-index:98;\r\n  }\r\n  .asset-code{\r\n  position: absolute;\r\n  top: 50px;\r\n  left:205px;\r\n  width: 125px;\r\n  height: 18px;\r\n  border-top: 5px solid #455a64;\r\n  border-bottom: 2px solid #455a64;\r\n  z-index:98;\r\n  }\r\n  .time-start{\r\n  position: absolute;\r\n  top: 50px;\r\n  left:340px;\r\n  width: 125px;\r\n  height: 18px;\r\n  border-top: 5px solid #455a64;\r\n  border-bottom: 2px solid #455a64;\r\n  z-index:98;\r\n}\r\n\r\n  .time-end{\r\n  position: absolute;\r\n  top: 50px;\r\n  left:475px;\r\n  width: 125px;\r\n  height: 18px;\r\n  border-top: 5px solid #455a64;\r\n  border-bottom: 2px solid #455a64;\r\n  z-index:98;\r\n}\r\n  .time-frequency{\r\n  position: absolute;\r\n  top: 50px;\r\n  left:610px;\r\n  width: 100px;\r\n  height: 18px;\r\n  border-top: 5px solid #455a64;\r\n  border-bottom: 2px solid #455a64;\r\n  z-index:98;\r\n  }\r\n  .time-button{\r\n  display: flex;\r\n  position: absolute;\r\n  top: 50px;\r\n  left:725px;\r\n  width: 90px;\r\n  height: 25px;\r\n  appearance: none;\r\n  background-color: #455a64;\r\n  border: 1px solid rgba(27, 31, 35, .15);\r\n  border-radius: 5px;\r\n  box-shadow: rgba(27, 31, 35, .1) 0 1px 0;\r\n  box-sizing: border-box;\r\n  color: #fff;\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  font-family: -apple-system,system-ui,\"Segoe UI\",Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\";\r\n  font-size: 15px;\r\n  font-weight: 520;\r\n  line-height: 10px;\r\n  padding: 5px 5px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  justify-content:space-evenly;\r\n  align-items: center;\r\n  align-content:stretch;\r\n  user-select: none;\r\n  -webkit-user-select: none;\r\n  touch-action: manipulation;\r\n  vertical-align: middle;\r\n  white-space: nowrap;\r\n  }\r\n  .content-left{\r\n    width:12%;\r\n    height:600px;\r\n    background-color: #1c232f;\r\n    float:left;\r\n  }\r\n  .left-title{\r\n    height:50px;\r\n    width:10px;\r\n  }\r\n  .left-title>a{\r\n    display: block;\r\n    width:100%;\r\n    height:50px;\r\n    line-height: 50px;\r\n    text-align:center;\r\n    color:white;\r\n    text-decoration: none;\r\n  }\r\n  .seg{\r\n    height:1px;\r\n    width:100%;\r\n    background-color: black;\r\n  }\r\n  .nav{\r\n    margin-top:5px;\r\n  }\r\n  .nav-title{\r\n    height:40px;\r\n    width:100%;\r\n    color:white;\r\n    text-align:center;\r\n    line-height:40px;\r\n    cursor:pointer;\r\n  }\r\n  .nav-content{\r\n    width:100%;\r\n    height:100%;\r\n    background-color: #0c1119;\r\n  }\r\n  .nav-content>a{\r\n    display:block;\r\n    height:30px;\r\n    width:100%;\r\n    color:#CCCCCC;\r\n    text-decoration: none;\r\n    text-align:center;\r\n    line-height:30px;\r\n  }\r\n  .nav-content>a:hover{\r\n    display:block;\r\n    height:30px;\r\n    width:100%;\r\n    color:#ffffff;\r\n    text-decoration: none;\r\n    text-align:center;\r\n    line-height:30px;\r\n    background-color: #12040c;\r\n  }\r\n  .custom-strategy{\r\n    position:absolute;\r\n    top:520px;\r\n  }\r\n  .file{\r\n    left:200px;\r\n  }\r\n  .upload{\r\n    left:400px;\r\n  }\r\n  .indexes{\r\n    position: absolute;\r\n    left: 1000px;\r\n    top:200px;\r\n  }\r\n  </style>\r\n  "],"sourceRoot":""}]}